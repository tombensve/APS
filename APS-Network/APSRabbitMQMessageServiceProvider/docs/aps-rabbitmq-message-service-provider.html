<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="generated-by" content="MarkdownDoc"/>
    <link href="docs.css" type="text/css" rel="stylesheet"/>
  </head>
  <body>
    <H1>APS RabbitMQ Message Service Provider</H1>
    <p>
      This service provides an implementation of APSMessageService using <a href='http://www.rabbitmq.com/' title=''>RabbitMQ</a>.      
    </p>
    <p>
      <strong>Note:</strong> This implementation does not support <em>contentType</em> in the API. When sending messages the <em>contentType</em> will be ignored, and when messages are received the <em>contentType</em> will always be "UNKNOWN".      
    </p>
    <p>
      A good suggestion is to always use JSON or XML as content.      
    </p>
    <H2>APSMessageService API</H2>
    <p>
      <a href='http://apidoc.natusoft.se/APS/se/natusoft/osgi/aps/api/net/messaging/service/APSMessageService.html' title=''>Javadoc</a>      
    </p>
    <p>
      public <em>interface</em> <strong>APSSimpleMessageService </strong>   [se.natusoft.osgi.aps.api.net.messaging.service] {      
    </p>
    <p>
      This defines a simple message service. Can be implemented by using a message bus like RabbitMQ, Active MQ, etc or just a simple tcpip server or whatever.      
    </p>
    <p>
      Since the actual members are outside of this service API, it doesn't really know who they are and doesn't care, all members are defined by configuration.      
    </p>
    <p>
      The term 'target' is used in this API. This can be anything relevant for routing a message to its destination. It depends a lot on the underlaying implementation. JMS for example have both a Queues that can be sent to using queue names, but also topics. If JMS is used then the target can be either a queue or a topic. The target just represents some destination of the message.      
    </p>
    <p>
      <strong>@SuppressWarnings("unused") String APS_MESSAGE_SERVICE_PROVIDER = "aps-message-service-provider"</strong>      
    </p>
    <p>
      Multiple providers of this service can be deployed at the same time. Using this property when registering services for a provider allows clients to lookup a specific provider.      
    </p>
    <p>
            
    </p>
    <p>
      <strong>void messageReceived(String target, byte[] message)</strong>      
    </p>
    <p>
      This is called when a message is received.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>target</em> - The target the message was sent to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>message</em> - The received message.         
      </p>
    </blockquote>
    <p>
      <strong>void addMessageListener(String target, MessageListener listener)</strong>      
    </p>
    <p>
      Adds a listener for types.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>target</em> - The target to listen to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>listener</em> - The listener to add.         
      </p>
    </blockquote>
    <p>
      <strong>void removeMessageListener(String target, MessageListener listener)</strong>      
    </p>
    <p>
      Removes a messaging listener.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>target</em> - The target to stop listening to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>listener</em> - The listener to remove.         
      </p>
    </blockquote>
    <p>
      <strong>void sendMessage(String target, byte[] message) throws APSMessagingException</strong>      
    </p>
    <p>
      Sends a message.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>target</em> - The target of the message.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>message</em> - The message to send.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSMessagingException</em> - on failure.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
  </body>
</html>
