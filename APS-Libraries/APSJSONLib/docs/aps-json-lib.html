<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="generated-by" content="MarkdownDoc"/>
    <link href="docs.css" type="text/css" rel="stylesheet"/>
  </head>
  <body>
    <H1>APSJSONLib</H1>
    <p>
      This is a library (exports all its packages and provides no service) for reading and writing JSON. It can also write a JavaBean object as JSON and take a JSON value or inputstream containing JSON and produce a JavaBean.      
    </p>
    <p>
      This basically provides a class representing each JSON type: JSONObject, JSONString, JSONNumber, JSONBoolean, JSONArray, JSONNull, and a JSONValue class that is the common base class for all the other. Each class knows how to read and write the JSON type it represents. Then there is a JavaToJSON and a JSONToJava class with static methods for converting back and forth. This mapping is very primitive. There has to be one to one between the JSON and the Java objects.      
    </p>
    <H2>Changes</H2>
    <H3>0.10.0</H3>
    <p>
      <em>readJSON(...)</em> in the <strong>JSONValue</strong> base class now throws JSONEOFException (extends IOException) on EOF. The reason for this is that internally it reads characters which cannot return -1 or any non JSON data valid char to represent EOF. Yes, it would be possible to replace <em>char</em> with <em>Character</em>, but that will have a greater effect on existing code using this lib. If an JSONEOFException comes and is not handled it is still very much more clear what happened than a NullPointerException would be!      
    </p>
    <H2>APIs</H2>
    <p>
      Complete javadocs can be found at <a href='http://apidoc.natusoft.se/APSJSONLib/' title=''>http://apidoc.natusoft.se/APSJSONLib/</a>.      
    </p>
    <p>
      public <em>class</em> <strong>JSON </strong>   [se.natusoft.osgi.aps.json] {      
    </p>
    <p>
      This is the official API for reading and writing JSON values.      
    </p>
    <p>
      <strong>public static JSONValue read(InputStream jsonIn, JSONErrorHandler errorHandler) throws IOException</strong>      
    </p>
    <p>
      Reads any JSON object from the specified <em>InputStream</em>.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A JSONValue subclass. Which depends on what was found on the stream.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonIn</em> - The InputStream to read from.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>errorHandler</em> - An implementation of this interface should be supplied by the user to handle any errors during JSON parsing.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>IOException</em> - on any IO failures.         
      </p>
    </blockquote>
    <p>
      <strong>public static void write(OutputStream jsonOut, JSONValue value) throws APSIOException</strong>      
    </p>
    <p>
      Writes a <em>JSONValue</em> to an <em>OutputStream</em>. This will write compact output by default.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonOut</em> - The OutputStream to write to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>value</em> - The value to write.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on failure.         
      </p>
    </blockquote>
    <p>
      <strong>public static void write(OutputStream jsonOut, JSONValue value, boolean compact) throws APSIOException</strong>      
    </p>
    <p>
      Writes a <em>JSONValue</em> to an <em>OutputStream</em>.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonOut</em> - The OutputStream to write to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>value</em> - The value to write.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>compact</em> - If true the written JSON is made very compact and hard to read but produce less data.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO problems.         
      </p>
    </blockquote>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONArrayProvider()</strong>      
    </p>
    <p>
      Creates a new JSONArray for wrinting JSON output.      
    </p>
    <p>
      <strong>public JSONArrayProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONArray for reading JSON input and writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handler to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public void addValue(JSONValueProvider value)</strong>      
    </p>
    <p>
      Adds a value to the array.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The value to add.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>public List&lt;se.natusoft.osgi.aps.api.misc.json.model.JSONValue&gt; getAsList()</strong>      
    </p>
    <p>
      Returns the array values as a List.      
    </p>
    <p>
      <strong>public &lt;T extends se.natusoft.osgi.aps.api.misc.json.model.JSONValue&gt; List&lt;T&gt; getAsList(Class&lt;T&gt; type)</strong>      
    </p>
    <p>
      Returns the array values as a list of a specific type.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A list of specified type if type is the same as in the list.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>type</em> - The class of the type to return values as a list of.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>&lt;T&gt;</em> - One of the JSONValue subclasses.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONBooleanProvider(boolean value)</strong>      
    </p>
    <p>
      Creates a new JSONBoolean instance for writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The value for this boolean.         
      </p>
    </blockquote>
    <p>
      <strong>public JSONBooleanProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONBoolean instance for reading JSON input or writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handler to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>public void setBooleanValue(boolean value)</strong>      
    </p>
    <p>
      Sets the value of this boolean.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The value to set.         
      </p>
    </blockquote>
    <p>
      <strong>public boolean getAsBoolean()</strong>      
    </p>
    <p>
      Returns the value of this boolean.      
    </p>
    <p>
      <strong>public String toString()</strong>      
    </p>
    <p>
      Returns the value of this boolean as a String.      
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONNullProvider()</strong>      
    </p>
    <p>
      Creates a new JSONNull instance for writing JSON output.      
    </p>
    <p>
      <strong>public JSONNullProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONNull instance for reading JSON input or writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handler to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>public String toString()</strong>      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        as String.        
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONNumberProvider(Number value)</strong>      
    </p>
    <p>
      Creates a new JSONNumber instance for writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The numeric value.         
      </p>
    </blockquote>
    <p>
      <strong>public JSONNumberProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONNumber instance for reading JSON input or writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handle to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>public Number toNumber()</strong>      
    </p>
    <p>
      Returns the number as a Number.      
    </p>
    <p>
            
    </p>
    <p>
      <strong>public float toFloat()</strong>      
    </p>
    <p>
      Returns the number as a float value.      
    </p>
    <p>
      <strong>public int toInt()</strong>      
    </p>
    <p>
      Returns the number as an int value.      
    </p>
    <p>
      <strong>public long toLong()</strong>      
    </p>
    <p>
      Returns the number as a long value.      
    </p>
    <p>
      <strong>public short toShort()</strong>      
    </p>
    <p>
      Returns the number as a short value.      
    </p>
    <p>
      <strong>public byte toByte()</strong>      
    </p>
    <p>
      Returns the number as a byte value.      
    </p>
    <p>
      <strong>public String toString()</strong>      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        number as String.        
      </p>
    </blockquote>
    <p>
      <strong>public Object to(Class type)</strong>      
    </p>
    <p>
      Returns the number as a value of the type specified by the type parameter.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>type</em> - The type of the returned number.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONObjectProvider()</strong>      
    </p>
    <p>
      Creates a JSONObject instance for writing JSON output.      
    </p>
    <p>
      <strong>public JSONObjectProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONObject instance for reading JSON input or writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handler to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public void setValue(se.natusoft.osgi.aps.api.misc.json.model.JSONString name, JSONValueProvider value)</strong>      
    </p>
    <p>
      Adds a property to this JSONObject instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>name</em> - The name of the property.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>value</em> - The property value.         
      </p>
    </blockquote>
    <p>
      <strong>public void setValue(String name, se.natusoft.osgi.aps.api.misc.json.model.JSONValue value)</strong>      
    </p>
    <p>
      Adds a property to this JSONObject instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>name</em> - The name of the property.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>value</em> - The property value.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public JSONStringProvider(String value)</strong>      
    </p>
    <p>
      Creates a new JSONString for writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The value of this JSONString.         
      </p>
    </blockquote>
    <p>
      <strong>public JSONStringProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONString for reading JSON input and writing JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The error handler to use.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>protected JSONValueProvider()</strong>      
    </p>
    <p>
      Creates a new JSONValue.      
    </p>
    <p>
      <strong>protected JSONValueProvider(JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONValue      
    </p>
    <p>
      <strong>protected abstract void readJSON(char c, JSONReader reader) throws APSIOException</strong>      
    </p>
    <p>
      This will read the vale from an input stream.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>c</em> - The first character already read from the input stream.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>reader</em> - The reader to read from.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failure.         
      </p>
    </blockquote>
    <p>
      <strong>protected abstract void writeJSON(JSONWriter writer, boolean compact) throws APSIOException</strong>      
    </p>
    <p>
      This will write the data held by this JSON value in JSON format on the specified stream.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>writer</em> - A JSONWriter instance to write with.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>compact</em> - If true write the JSON as compact as possible. false means readable, indented.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - On IO failure.         
      </p>
    </blockquote>
    <p>
      <strong>protected JSONErrorHandler getErrorHandler()</strong>      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The user supplied error handler.        
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Reads and resolves what JSON type is the next in the input and returns it.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The read JSONValue.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>c</em> - The first already read character.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>reader</em> - The reader to read from.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user supplied error handler.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IOFailure.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>protected void fail(String message, Throwable cause)</strong>      
    </p>
    <p>
      Fails the job.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>message</em> - The failure message.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>cause</em> - An eventual cause of the failure. Can be null.         
      </p>
    </blockquote>
    <p>
      <strong>protected void fail(String message)</strong>      
    </p>
    <p>
      Fails the job.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>message</em> - The failure message.         
      </p>
    </blockquote>
    <p>
      <strong>public void readJSON(InputStream is) throws APSIOException</strong>      
    </p>
    <p>
      This will read the value from an input stream.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>is</em> - The input stream to read from.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failure.         
      </p>
    </blockquote>
    <p>
      <strong>public void writeJSON(OutputStream os) throws APSIOException</strong>      
    </p>
    <p>
      This writes JSON to the specified OutputStream.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>os</em> - The outoutStream to write to.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failure.         
      </p>
    </blockquote>
    <p>
      <strong>public void writeJSON(OutputStream os, boolean compact) throws APSIOException</strong>      
    </p>
    <p>
      This writes JSON to the specified OutputStream.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>os</em> - The outoutStream to write to.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>compact</em> - If true write JSON as compact as possible. If false write it readable with indents.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failure.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONString instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONNumber instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONNull instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONBoolean instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONArray instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
      <strong>/*package*/</strong>      
    </p>
    <p>
      Method for creating a JSONObject instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>errorHandler</em> - The user error handler.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>protected JSONReader(PushbackReader reader, JSONErrorHandler errorHandler)</strong>      
    </p>
    <p>
      Creates a new JSONReader instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>reader</em> - The PushbackReader to read from.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>errorHandler</em> - The handler for errors.         
      </p>
    </blockquote>
    <p>
      <strong>protected char getChar() throws APSIOException</strong>      
    </p>
    <p>
      Returns the next character on the specified input stream, setting EOF state checkable with isEOF().      
    </p>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO problems.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      protected <em>static</em> <em>class</em> <strong>JSONWriter </strong>   [se.natusoft.osgi.aps.json] {      
    </p>
    <p>
      For subclasses to use in writeJSON(JSONWriter writer).      
    </p>
    <p>
            
    </p>
    <p>
      <strong>protected JSONWriter(Writer writer)</strong>      
    </p>
    <p>
      Creates a new JSONWriter instance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>writer</em> - The writer to write to.         
      </p>
    </blockquote>
    <p>
      <strong>protected void write(String json) throws APSIOException</strong>      
    </p>
    <p>
      Writes JSON output.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>json</em> - The JSON output to write.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failure.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public BeanInstance(Object modelInstance)</strong>      
    </p>
    <p>
      Creates a new ModelInstance.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>modelInstance</em> - The model instance to wrap.         
      </p>
    </blockquote>
    <p>
      <strong>public Object getModelInstance()</strong>      
    </p>
    <p>
      Returns the test model instance held by this object.      
    </p>
    <p>
      <strong>public List&lt;String&gt; getSettableProperties()</strong>      
    </p>
    <p>
      Returns a list of settable properties.      
    </p>
    <p>
      <strong>public List&lt;String&gt; getGettableProperties()</strong>      
    </p>
    <p>
      Returns a list of gettable properties.      
    </p>
    <p>
      <strong>public void setProperty(String property, Object value) throws JSONConvertionException</strong>      
    </p>
    <p>
      Sets a property      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>property</em> - The name of the property to set.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>value</em> - The value to set with.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - on any failure to set the property.         
      </p>
    </blockquote>
    <p>
      <strong>public Object getProperty(String property) throws JSONConvertionException</strong>      
    </p>
    <p>
      Returns the value of the specified property.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The property value.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>property</em> - The property to return value of.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - on failure (probably bad property name!).         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
      <strong>public Class getPropertyType(String property) throws JSONConvertionException</strong>      
    </p>
    <p>
      Returns the type of the specified property.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The class representing the property type.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>property</em> - The property to get the type for.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - if property does not exist.         
      </p>
    </blockquote>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
            
    </p>
    <p>
      <strong>public static JSONObjectProvider convertObject(Object javaBean) throws JSONConvertionException</strong>      
    </p>
    <p>
      Converts a JavaBean object into a <em>JSONObject</em>.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A JSONObject containing all values from the JavaBean.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>javaBean</em> - The JavaBean object to convert.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - on converting failure.         
      </p>
    </blockquote>
    <p>
      <strong>public static JSONObjectProvider convertObject(JSONObjectProvider jsonObject, Object javaBean) throws JSONConvertionException</strong>      
    </p>
    <p>
      Converts a JavaBean object into a <em>JSONObject</em>.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A JSONObject containing all values from the JavaBean.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonObject</em> - The jsonObject to convert the bean into or null for a new JSONObject.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>javaBean</em> - The JavaBean object to convert.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - on converting failure.         
      </p>
    </blockquote>
    <p>
      <strong>public static JSONValueProvider convertValue(Object value)</strong>      
    </p>
    <p>
      Converts a value from a java value to a <em>JSONValue</em>.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The converted JSONValue.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>value</em> - The java value to convert. It can be one of String, Number, Boolean, null, JavaBean, or an array of those.         
      </p>
    </blockquote>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
      public <em>class</em> <strong>JSONConvertionException </strong> extends  RuntimeException    [se.natusoft.osgi.aps.json.tools] {      
    </p>
    <p>
      This exception is thrown on failure to convert from JSON to Java or Java to JSON.      
    </p>
    <p>
      Almost all exceptions within the APS services and libraries extend either <em>APSException</em> or <em>APSRuntimeException</em>. I decided to just extend RuntimeException here to avoid any other dependencies for this library since it can be useful outside of APS and can be used as any jar if not deployed in OSGi container.      
    </p>
    <p>
      <strong>public JSONConvertionException(final String message)</strong>      
    </p>
    <p>
      Creates a new <em>JSONConvertionException</em>.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>message</em> - The exception message         
      </p>
    </blockquote>
    <p>
      <strong>public JSONConvertionException(final String message, final Throwable cause)</strong>      
    </p>
    <p>
      Creates a new <em>JSONConvertionException</em>.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>message</em> - The exception message         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>cause</em> - The cause of this exception.         
      </p>
    </blockquote>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
      public <em>class</em> <strong>JSONMapConv </strong>   [se.natusoft.osgi.aps.json.tools] {      
    </p>
    <p>
      This converts between a Java Map and JSON. Do note that this of course uses this library to read and write JSON, but this specific public API only deals with Java and JSON as String or on/in a stream. <a href='p/' title=''>p/</a> This class becomes more useful when used from Groovy since the latter provides much nicer usage of data in Maps. Yes, I know about JSONSlurper and JSONBuilder in Groovy. Those however does not work with @CompileStatic. Maps does.      
    </p>
    <p>
      <strong>public static Map&lt;String, Object&gt; jsonObjectToMap(String json) throws APSIOException</strong>      
    </p>
    <p>
      This takes a String containing a JSON object and returns it as a Map.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>json</em> - The JSON content to convert to a Map.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on failure.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public static Map&lt;String, Object&gt; jsonObjectToMap(se.natusoft.osgi.aps.api.misc.json.model.JSONObject jsonObject)</strong>      
    </p>
    <p>
      This takes a JSONObject and returns a Map.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        The converted Map.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonObject</em> - The JSONObject to convert to a Map.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      <strong>public static String mapToJSONObjectString(Map&lt;String, Object&gt; map) throws APSIOException</strong>      
    </p>
    <p>
      This takes a Map (as created by jsonObjectToMap(...)) and returns a JSON String.      
    </p>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>map</em> - The Map to convert to JSON.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on I/O failures.         
      </p>
    </blockquote>
    <p>
      <strong>public static se.natusoft.osgi.aps.api.misc.json.model.JSONObject mapToJSONObject(Map&lt;String, Object&gt; map)</strong>      
    </p>
    <p>
      Converts a <code>Map&lt;String,</code><code> Object&gt;</code> to a JSONObject.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A converted JSONObject.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>map</em> - The Map to convert.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
      public <em>class</em> <strong>JSONToJava </strong>   [se.natusoft.osgi.aps.json.tools] {      
    </p>
    <p>
      Creates a JavaBean instance and copies data from a JSON value to it.      
    </p>
    <p>
      The following mappings are made in addition to the expected ones:      
    </p>
    <ul>
      <li>
        <p>
           <em>JSONArray</em> only maps to an array property.          
        </p>
      </li>
      <li>
        <p>
           Date properties in bean are mapped from <em>JSONString</em> "yyyy-MM-dd HH:mm:ss".          
        </p>
      </li>
      <li>
        <p>
           Enum properties in bean are mapped from <em>JSONString</em> which have to contain enum constant name.          
        </p>
      </li>
    </ul>
    <p>
      <strong>public static &lt;T&gt; T convert(InputStream jsonStream, Class&lt;T&gt; javaClass) throws APSIOException, JSONConvertionException</strong>      
    </p>
    <p>
      Returns an instance of a java class populated with data from a json object value read from a stream.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A populated instance of javaClass.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>jsonStream</em> - The stream to read from.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>javaClass</em> - The java class to instantiate and populate.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failures.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - On JSON to Java failures.         
      </p>
    </blockquote>
    <p>
      <strong>public static &lt;T&gt; T convert(String json, Class&lt;T&gt; javaClass) throws APSIOException, JSONConvertionException</strong>      
    </p>
    <p>
      Returns an instance of a java class populated with data from a json object value read from a String containing JSON.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A populated instance of javaClass.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>json</em> - The String to read from.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>javaClass</em> - The java class to instantiate and populate.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>APSIOException</em> - on IO failures.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - On JSON to Java failures.         
      </p>
    </blockquote>
    <p>
      <strong>public static &lt;T&gt; T convert(JSONValue json, Class&lt;T&gt; javaClass) throws JSONConvertionException</strong>      
    </p>
    <p>
      Returns an instance of java class populated with data from json.      
    </p>
    <p>
      <em>Returns</em>      
    </p>
    <blockquote>
      <p>
        A converted Java object.        
      </p>
    </blockquote>
    <p>
      <em>Parameters</em>      
    </p>
    <blockquote>
      <p>
        <em>json</em> - The json to convert to java.         
      </p>
    </blockquote>
    <blockquote>
      <p>
        <em>javaClass</em> - The class of the java object to convert to.         
      </p>
    </blockquote>
    <p>
      <em>Throws</em>      
    </p>
    <blockquote>
      <p>
        <em>JSONConvertionException</em> - On failure to convert.         
      </p>
    </blockquote>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
    <p>
      public <em>class</em> <strong>SystemOutErrorHandler </strong> implements  JSONErrorHandler    [se.natusoft.osgi.aps.json.tools] {      
    </p>
    <p>
      A simple implementation of <em>JSONErrorHandler</em> that simply displays messages on System.out and throws a <em>RuntimeException</em> on fail. This is used by the tests. In a non test case another implementation is probably preferred.      
    </p>
    <p>
            
    </p>
    <p>
            
    </p>
    <p>
      }      
    </p>
    <hr/>    <p>
                
    </p>
  </body>
</html>
